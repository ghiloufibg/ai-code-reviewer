                ┌────────────────────┐
                │      Application   │
                │  (main / run)      │
                └───────┬────────────┘
                        │
                        ▼
        ┌────────────────────────────────┐
        │   Chargement config & arguments│
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │         DiffService            │
        │  ┌───────────────────────────┐ │
        │  │ collectFromGithub / Git   │ │
        │  └───────────┬───────────────┘ │
        │              ▼                 │
        │     UnifiedDiffParser          │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │   StaticAnalysisRunner          │
        │ (Checkstyle, PMD, SpotBugs...)  │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │         PromptBuilder           │
        │  (SYSTEM_PROMPT + schéma JSON)  │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │           LlmClient             │
        │ (envoi prompt → reçoit JSON)    │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │         JsonValidator           │
        │ (valide réponse LLM)            │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │        IssueAggregator          │
        │ (fusionne tous les chunks)      │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │       Écriture artefacts        │
        │ (review.json, prompt.txt, diff) │
        └────────────────┬───────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │        GithubPublisher          │
        │ (commentaires inline + résumé)  │
        └────────────────────────────────┘